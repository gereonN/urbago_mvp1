(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{3572:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bed-planning",function(){return a(663)}])},6934:function(e,n,a){"use strict";var s=a(5893);a(7294),n.Z=e=>{let{children:n,className:a="",columns:t={mobile:1,tablet:2,desktop:3},gap:l="m"}=e,i="grid grid-cols-".concat(t.mobile," md:grid-cols-").concat(t.tablet," lg:grid-cols-").concat(t.desktop," gap-").concat(l," ").concat(a);return(0,s.jsx)("div",{className:i,children:n})}},663:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return b}});var s=a(5893),t=a(7294),l=a(4990),i=a(6994),c=a(9470),r=e=>{let{title:n,children:a,className:t="",footer:l}=e;return(0,s.jsxs)("div",{className:"card ".concat(t),children:[n&&(0,s.jsx)("div",{className:"card-header",children:(0,s.jsx)("h3",{className:"card-title",children:n})}),(0,s.jsx)("div",{className:"card-body",children:a}),l&&(0,s.jsx)("div",{className:"card-footer",children:l})]})},d=e=>{let{variant:n="primary",size:a="medium",fullWidth:t=!1,className:l="",children:i,...c}=e,r="".concat("btn"," ").concat("btn-".concat(n)," ").concat("btn-".concat(a)," ").concat(t?"btn-full-width":""," ").concat(l);return(0,s.jsx)("button",{className:r,...c,children:i})},o=a(6934),m=a(1664),h=a.n(m),u=a(5675),p=a.n(u),j=e=>{let{id:n,name:a,emoji:t,imageSrc:l,onClick:i}=e;return(0,s.jsx)("div",{className:"plant-card",onClick:i,children:(0,s.jsxs)(h(),{href:"/plants/".concat(n),className:"plant-card-link",children:[(0,s.jsx)("div",{className:"plant-image-container",children:(0,s.jsx)(p(),{src:l,alt:a,width:120,height:120,className:"plant-image"})}),(0,s.jsxs)("div",{className:"plant-info",children:[(0,s.jsx)("span",{className:"plant-emoji",children:t}),(0,s.jsx)("span",{className:"plant-name",children:a})]})]})})},g=e=>{let{plants:n}=e,[a,l]=(0,t.useState)([]),[m,h]=(0,t.useState)(2.5),[u,p]=(0,t.useState)(1.2),[g,b]=(0,t.useState)(3),[x,f]=(0,t.useState)(null),[N,v]=(0,t.useState)(!1),[z,w]=(0,t.useState)("select"),k=(e,n)=>{b(parseFloat((e*n).toFixed(2)))},_=e=>{l(n=>n.includes(e)?n.filter(n=>n!==e):[...n,e])},D=()=>{"select"===z&&a.length>0?w("dimensions"):"dimensions"===z&&B()},P=()=>{"dimensions"===z?w("select"):"result"===z&&(w("dimensions"),f(null))},B=async()=>{v(!0);try{let e=n.filter(e=>a.includes(e.id)).map(e=>({plant_id:e.id,name_de:e.name,name_en:e.name,name_botanical:e.botanicalName}));setTimeout(()=>{let n=C(e,m,u,g);f(n),w("result"),v(!1)},2e3)}catch(e){console.error("Error generating bed plan:",e),v(!1)}},C=(e,n,a,s)=>'\n      <div class="bed-plan">\n        <h2>\uD83D\uDCCB \xdcbersicht des Bepflanzungsplans</h2>\n        <p>Hier ist dein optimierter Bepflanzungsplan f\xfcr ein Beet mit '.concat(n,"m \xd7 ").concat(a,"m (").concat(s,"m\xb2). Der Plan kombiniert ").concat(e.length,' Pflanzenarten in einer harmonischen Anordnung, die Pflanzenkompatibilit\xe4t, Platzbedarf und Wachstumsbedingungen ber\xfccksichtigt.</p>\n        \n        <h2>\uD83C\uDF31 Pflanzenverteilung</h2>\n        <table class="plants-table">\n          <tr>\n            <th>Pflanze</th>\n            <th>Anzahl</th>\n            <th>Position</th>\n          </tr>\n          ').concat(e.map((e,n)=>"\n            <tr>\n              <td>".concat(e.name_de,"</td>\n              <td>").concat(Math.floor(10*Math.random())+1,"</td>\n              <td>").concat(n%2==0?"Norden":"S\xfcden","</td>\n            </tr>\n          ")).join(""),'\n        </table>\n        \n        <h2>\uD83D\uDDFA️ Visueller Beetplan</h2>\n        <pre class="bed-visual">\n┌─────────────────────────────────────────┐\n│                  NORDEN                  │\n├─────────────────────────────────────────┤\n').concat(e.map((n,a)=>"│ ".concat(n.name_de.charAt(0).toUpperCase().repeat(Math.floor(20/e.length)).split("").join("   "),"   │\n│                                         │\n")).join(""),"├─────────────────────────────────────────┤\n│                  S\xdcDEN                   │\n└─────────────────────────────────────────┘\n\nLegende:\n").concat(e.map(e=>"".concat(e.name_de.charAt(0).toUpperCase()," = ").concat(e.name_de)).join("\n"),"\n        </pre>\n        \n        <h2>\uD83D\uDCA7 Pflege- und Bew\xe4sserungshinweise</h2>\n        <p>Die Pflanzen in deinem Beet haben \xe4hnliche Wasserbed\xfcrfnisse, was die Bew\xe4sserung vereinfacht. Gie\xdfe regelm\xe4\xdfig, besonders in Trockenperioden.</p>\n        \n        <h2>\uD83C\uDF1E Saisonale Empfehlungen</h2>\n        <p>Pflanze im Fr\xfchjahr (April-Mai) und erwarte Ernten von Sommer bis Herbst.</p>\n        \n        <h2>\uD83D\uDCA1 Praktische Tipps f\xfcr urbane G\xe4rtner</h2>\n        <ul>\n          <li>Nutze Mulch, um Feuchtigkeit zu speichern</li>\n          <li>Installiere ein einfaches Tropfbew\xe4sserungssystem f\xfcr gleichm\xe4\xdfige Bew\xe4sserung</li>\n          <li>Verwende vertikale St\xfctzen f\xfcr h\xf6here Pflanzen, um Platz zu sparen</li>\n        </ul>\n      </div>\n    ");return(0,s.jsx)(i.Z,{children:(0,s.jsxs)(c.Z,{children:[(0,s.jsx)("h1",{className:"page-title",children:"Beet planen"}),"select"===z&&(0,s.jsx)("div",{className:"plant-selection-step",children:(0,s.jsxs)(r,{children:[(0,s.jsx)("h2",{children:"1. Pflanzen ausw\xe4hlen"}),(0,s.jsx)("p",{children:"W\xe4hle die Pflanzen aus, die du in deinem Beet anbauen m\xf6chtest."}),(0,s.jsx)("div",{className:"selected-count mt-m mb-m",children:(0,s.jsxs)("strong",{children:["Ausgew\xe4hlte Pflanzen: ",a.length]})}),(0,s.jsx)(o.Z,{columns:{mobile:2,tablet:3,desktop:4},gap:"m",children:n.map(e=>(0,s.jsxs)("div",{className:"selectable-plant-card ".concat(a.includes(e.id)?"selected":""),onClick:()=>_(e.id),children:[(0,s.jsx)(j,{id:e.id,name:e.name,emoji:e.emoji,imageSrc:e.imageSrc}),(0,s.jsx)("div",{className:"selection-indicator",children:a.includes(e.id)?"✓":"+"})]},e.id))}),(0,s.jsx)("div",{className:"action-buttons mt-l",children:(0,s.jsx)(d,{variant:"primary",disabled:0===a.length,onClick:D,children:"Weiter zu Beetma\xdfen"})})]})}),"dimensions"===z&&(0,s.jsx)("div",{className:"bed-dimensions-step",children:(0,s.jsxs)(r,{children:[(0,s.jsx)("h2",{children:"2. Beetma\xdfe eingeben"}),(0,s.jsx)("p",{children:"Gib die Ma\xdfe deines Beetes ein."}),(0,s.jsxs)("div",{className:"form-group mt-m",children:[(0,s.jsx)("label",{htmlFor:"bed-length",className:"form-label",children:"L\xe4nge (Meter):"}),(0,s.jsx)("input",{type:"number",id:"bed-length",className:"form-input",value:m,min:"0.1",step:"0.1",onChange:e=>{let n=parseFloat(e.target.value);!isNaN(n)&&n>0&&(h(n),k(n,u))}})]}),(0,s.jsxs)("div",{className:"form-group mt-m",children:[(0,s.jsx)("label",{htmlFor:"bed-width",className:"form-label",children:"Breite (Meter):"}),(0,s.jsx)("input",{type:"number",id:"bed-width",className:"form-input",value:u,min:"0.1",step:"0.1",onChange:e=>{let n=parseFloat(e.target.value);!isNaN(n)&&n>0&&(p(n),k(m,n))}})]}),(0,s.jsx)("div",{className:"bed-area mt-m",children:(0,s.jsxs)("strong",{children:["Beetfl\xe4che: ",g," m\xb2"]})}),(0,s.jsx)("div",{className:"bed-preview mt-l",children:(0,s.jsxs)("div",{className:"bed-rectangle",style:{width:"".concat(Math.min(100,40*m),"px"),height:"".concat(Math.min(100,40*u),"px")},children:[m,"m \xd7 ",u,"m"]})}),(0,s.jsxs)("div",{className:"action-buttons mt-l",children:[(0,s.jsx)(d,{variant:"secondary",onClick:P,children:"Zur\xfcck zur Pflanzenauswahl"}),(0,s.jsx)(d,{variant:"primary",onClick:D,disabled:m<=0||u<=0,children:"Optimale Bepflanzung ermitteln"})]})]})}),"result"===z&&x&&(0,s.jsx)("div",{className:"bed-plan-result-step",children:(0,s.jsxs)(r,{children:[(0,s.jsx)("h2",{children:"3. Dein optimaler Bepflanzungsplan"}),N?(0,s.jsx)("div",{className:"loading-indicator",children:"Erstelle Bepflanzungsplan..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"plan-content",dangerouslySetInnerHTML:{__html:x}}),(0,s.jsxs)("div",{className:"action-buttons mt-l",children:[(0,s.jsx)(d,{variant:"secondary",onClick:P,children:"Beetma\xdfe anpassen"}),(0,s.jsx)(d,{variant:"primary",onClick:()=>{l([]),h(2.5),p(1.2),b(3),f(null),w("select")},children:"Neuen Plan erstellen"})]})]})]})})]})})};function b(){let[e,n]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[c,r]=(0,t.useState)(null);return((0,t.useEffect)(()=>{(async()=>{try{i(!0);let e=await (0,l._R)();n(e),i(!1)}catch(e){r("Failed to load plant database"),i(!1),console.error("Error loading plant database:",e)}})()},[]),a)?(0,s.jsx)("div",{className:"loading-indicator",children:"Lade Pflanzendaten..."}):c?(0,s.jsx)("div",{className:"error-message",children:c}):(0,s.jsx)(g,{plants:e})}}},function(e){e.O(0,[61,407,888,774,179],function(){return e(e.s=3572)}),_N_E=e.O()}]);